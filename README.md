# OpenTeens 网站后端

## API接口

### 用户相关

- `/registery` 用户注册
- `/login` 用户登录
- 

#### 用户注册

POST `/v1/user/registery`

传入用户名、密码、邮箱、邮箱验证码。

##### 业务逻辑

1. 验证人类行为
2. 检查用户名、密码、邮箱字段合法性
3. 验证邮箱验证码正确性
4. 创建用户&存入数据库

5. \[待定\] - 自动登录

#### 用户登录

POST `/v1/user/login`

传入用户名（或邮箱）、密码。

##### 业务逻辑

1. 验证人类行为
2. 检查用户名、密码字段合法性
3. 检查用户名（或邮箱）是否存在 -> 不存在则返回错误
4. 验证密码正确性 -> 不正确则返回错误
5. 创建登录状态&存入数据库
6. 创建Token
7. Token储存进数据库
8. 返回Token


